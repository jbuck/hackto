<html>
  <head>
    <title>Hack TO</title>
  </head>
  <script>
    var w;

    document.addEventListener("DOMContentLoaded", function(e){
      w = new Worker("hackTO.js");

      w.onmessage = function (event) {
        document.getElementById("result").innerHTML = event.data;
      };
    }, false);

    function randomNumber(){
      w.postMessage({ "cmd" : "randNum", "value" : Math.random() * 1000000000 });
    }

    function sendText( data ){
      w.postMessage({ "cmd" : "sendText", "value" : document.getElementById("textData").value })
    }

    function stopWorker(){ 
      w.terminate();
    }
  </script>
  <body>
    <p>Count numbers: <output id="result"></output></p>
    <button onclick="randomNumber()">Random Number!</button>
    <button onclick="sendText()">Send text below!</button>
    <button onclick="stopWorker()">Stop!</button>
    <br>
    <input type="text" id="textData" />
  </body>
</html>